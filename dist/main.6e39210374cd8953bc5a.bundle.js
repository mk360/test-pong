/*! For license information please see main.6e39210374cd8953bc5a.bundle.js.LICENSE.txt */
(()=>{var e,t={31:(e,t,s)=>{"use strict";var a=s(260);class i extends Phaser.GameObjects.Container{constructor(e){super(e,0,0);const t=new a.GameObjects.Rectangle(e,0,0,+e.game.config.width,+e.game.config.height,0,.5);this.add(t),this.add(new a.GameObjects.Text(e,t.getCenter().x,t.getCenter().y,"PAUSE",{fontSize:"30px"}))}}const n=i,r=class{constructor(e){this.key=e}getPressedButtons(e){const t=[];for(let s=0;s<e.length;s++)e[s].pressed&&t.push(this.buttonsIndices[s]);return t}},l=class extends r{constructor(){super("xinput"),this.buttonsIndices={0:"A",1:"B",2:"X",3:"Y",4:"LB",5:"RB",6:"LT",7:"RT",12:"DPad-Up",13:"DPad-Down",14:"DPad-Left",15:"DPad-Right"}}getStickAxes(e){return{leftStick:{x:e[0],y:e[1]},rightStick:{x:e[2],y:e[3]}}}};class d extends a.Physics.Arcade.Sprite{constructor(e,t,s){super(e,t,s,"paddle"),this.setScale(.5)}create(){return this.setImmovable(!0),this}move(e){this.y+=e}}const h=d;let o=2,c=700;class p extends Phaser.Scene{constructor(){super({key:"MainScene"}),this.xInput=new l}create(){window.addEventListener("gamepadconnected",(()=>{this.scene.resume()})),this.downKey=this.input.keyboard.addKey("down"),this.upKey=this.input.keyboard.addKey("up"),this.physics.world.setBounds(0,0,1400,800,!0,!0,!0),window.addEventListener("gamepaddisconnected",(()=>{this.scene.pause(),this.pauseOverlay.setVisible(!0)})),this.playerPaddle=new h(this,100,400),this.secondPlayerPaddle=new h(this,1200,400),this.physics.add.existing(this.playerPaddle),this.physics.add.existing(this.secondPlayerPaddle),this.add.existing(this.secondPlayerPaddle.create()),this.add.existing(this.playerPaddle.create()),this.pauseOverlay=new n(this).setVisible(!1),this.add.existing(this.pauseOverlay),this.physics.world.setBoundsCollision(),this.ball=this.physics.add.sprite(500,500,"ball",16777215).setBounce(1),this.ball.setCollideWorldBounds(!0),this.player1Score=this.add.text(this.playerPaddle.getCenter().x,40,"0",{fontSize:"100px"}),this.player2Score=this.add.text(this.secondPlayerPaddle.getCenter().x,40,"0",{fontSize:"100px"}),this.launchBall(),this.physics.add.collider(this.playerPaddle,this.ball),this.physics.add.collider(this.secondPlayerPaddle,this.ball)}launchBall(){this.ball.x=+this.game.config.width/2,this.ball.y=+this.game.config.height/2;const e=(new Phaser.Math.RandomDataGenerator).between(40,320);this.ball.setScale(.4);const t=c*Math.cos(e),s=c*Math.sin(e);this.ball.setVelocity(t,s)}announceWinner(e){this.ball.setVelocity(0),this.add.text(500,500,`${e} wins`)}update(){if("10"===this.player1Score.text)this.announceWinner("Player 1");else if("10"===this.player2Score.text)this.announceWinner("Player 2");else{this.downKey.isDown&&this.secondPlayerPaddle.move(2),this.upKey.isDown&&this.secondPlayerPaddle.move(-2);const e=navigator.getGamepads()[0];if(e){const t=this.xInput.getPressedButtons(e.buttons);if(t.includes("DPad-Up")&&this.playerPaddle.move(-o),t.includes("DPad-Down")&&this.playerPaddle.move(o),0===this.ball.getLeftCenter().x&&(this.player2Score.setText((+this.player2Score.text+1).toString()),this.playerPaddle.scaleY=Math.min(1.1*this.playerPaddle.scaleY,3),c-=50,o=Math.max(o-2,1),this.launchBall()),this.ball.getRightCenter().x===+this.game.config.width){const e=+this.player1Score.text+1;this.player1Score.setText(e.toString()),this.playerPaddle.scaleY=Math.max(this.playerPaddle.scaleY/1.1,.2),c+=100,o+=2,this.launchBall()}}}}}class u extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.image("ball","assets/img/ball.png"),this.load.image("paddle","assets/img/paddle.png")}create(){this.scene.start("MainScene")}}const y={type:Phaser.WEBGL,backgroundColor:"black",scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:1400,height:800},scene:[u,p],physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0}}}};window.addEventListener("load",(()=>{new Phaser.Game(y)}))},204:()=>{console.log("%c %c %c %c %c Built using phaser-project-template %c https://github.com/yandeu/phaser-project-template","background: #ff0000","background: #ffff00","background: #00ff00","background: #00ffff","color: #fff; background: #000000;","background: none")}},s={};function a(e){var i=s[e];if(void 0!==i)return i.exports;var n=s[e]={exports:{}};return t[e].call(n.exports,n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,s,i,n)=>{if(!s){var r=1/0;for(o=0;o<e.length;o++){for(var[s,i,n]=e[o],l=!0,d=0;d<s.length;d++)(!1&n||r>=n)&&Object.keys(a.O).every((e=>a.O[e](s[d])))?s.splice(d--,1):(l=!1,n<r&&(r=n));if(l){e.splice(o--,1);var h=i();void 0!==h&&(t=h)}}return t}n=n||0;for(var o=e.length;o>0&&e[o-1][2]>n;o--)e[o]=e[o-1];e[o]=[s,i,n]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var i,n,[r,l,d]=s,h=0;if(r.some((t=>0!==e[t]))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(d)var o=d(a)}for(t&&t(s);h<r.length;h++)n=r[h],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(o)},s=self.webpackChunkphaser_project_template=self.webpackChunkphaser_project_template||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),a.O(void 0,[216],(()=>a(31)));var i=a.O(void 0,[216],(()=>a(204)));i=a.O(i)})();